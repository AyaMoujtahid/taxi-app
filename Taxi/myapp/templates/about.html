{% extends "base.html" %}
{% block title %}About{% endblock %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taxi App Slideshow</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html, body {
            width: 100%;
            height: 100vh;
            overflow: hidden; 
            background: #22222A;
            font-family: 'Fira Mono', monospace;
            -webkit-font-smoothing: antialiased;
            font-size: .88rem;
            color: #bdbdd5;
        }
        .content-width {
            width: 86%;
            height: 100vh;
            margin: 0 auto;
        }
        .slideshow {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }
        .slideshow-items {
            position: relative;
            width: 100%;
            height: 100%;
        }
        .item {
            position: absolute;
            width: 100%;
            height: auto;
        }
        .item-image-container {
            position: relative;
            width: 42%;
        }
        .item-image-container::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 101%;
            height: 101%;
            background: #22222A;
            opacity: 0;
            z-index: 1;
        }
        .item-image {
            position: relative;
            width: 100%;
            height: auto;
            opacity: 0;
            display: block;
            transition: opacity .3s ease-out .45s;
        }
        .item.active .item-image {
            opacity: 1;
        }
        .item.active .item-image-container::before {
            opacity: .8;
        }
        .item-description {
            position: absolute;
            top: 182px;
            right: 0;
            width: 50%;
            padding-right: 4%;
            line-height: 1.8;
        }
        .item-header {
            position: absolute;
            top: 150px;
            left: -1.8%;
            z-index: 100;
        }
        .item-header .vertical-part {
            margin: 0 -4px;
            font-family: 'Montserrat', sans-serif;
            -webkit-font-smoothing: auto;
            font-size: 7vw;
            color: #fff;
        }
        .vertical-part {
            overflow: hidden;
            display: inline-block;
        }
        .vertical-part b {
            display: inline-block;
            transform: translateY(100%);
        }
        .item-header .vertical-part b {
            transition: .5s;
        }
        .item-description .vertical-part b {
            transition: .21s;
        }
        .item.active .item-header .vertical-part b {
            transform: translateY(0);
        }
        .item.active .item-description .vertical-part b {
            transform: translateY(0);
        }
        .controls {
            position: relative;
            text-align: right;
            z-index: 1000;
        }
        .controls ul {
            list-style: none;
        }
        .controls ul li {
            display: inline-block;
            width: 10px;
            height: 10px;
            margin: 3px;
            background: #bdbdd5;
            cursor: pointer;
        }
        .controls ul li.active {
            background: #6a6a77;
        }
    </style>
</head>
<body>
    <div class="content-width">
        <div class="slideshow">
            <div class="slideshow-items">
                <div class="item">
                    <div class="item-image-container">
                        <img class="item-image" src="./../static/img1.jpg" alt="Taxi Image 1" />
                    </div>
                    <div class="item-header">
                        <span class="vertical-part"><b>T</b></span>
                        <span class="vertical-part"><b>a</b></span>
                        <span class="vertical-part"><b>x</b></span>
                        <span class="vertical-part"><b>i</b></span>
                    </div>
                    <div class="item-description">
                        <span class="vertical-part"><b>Our taxi service is known for its speed and reliability. Whether you need to get to work, run errands, or catch a flight, our fleet of modern taxis and professional drivers ensure that you arrive safely and on time. We operate around the clock to cater to your transportation needs at any hour of the day or night.</b></span>

                    </div>
                </div>
                <div class="item">
                    <div class="item-image-container">
                        <img class="item-image" src="./../static/img2.jpg" alt="Taxi Image 2" />
                    </div>
                    <div class="item-header">
                        <span class="vertical-part"><b>S</b></span>
                        <span class="vertical-part"><b>a</b></span>
                        <span class="vertical-part"><b>f</b></span>
                        <span class="vertical-part"><b>e</b></span>
                    </div>
                    <div class="item-description">
                        <span class="vertical-part"><b>Safety is our top priority. Our drivers are extensively trained and our vehicles are regularly maintained to ensure that every ride is smooth and secure. With us, you can travel with peace of mind, knowing that you are in safe hands from the moment you step into one of our taxis until you reach your destination.</b></span>

                    </div>
                </div>
                <div class="item">
                    <div class="item-image-container">
                        <img class="item-image" src="./../static/img3.jpg" alt="Taxi Image 3" />
                    </div>
                    <div class="item-header">
                        <span class="vertical-part"><b>A</b></span>
                        <span class="vertical-part"><b>f</b></span>
                        <span class="vertical-part"><b>f</b></span>
                        <span class="vertical-part"><b>o</b></span>
                        <span class="vertical-part"><b>r</b></span>
                        <span class="vertical-part"><b>d</b></span>
                        <span class="vertical-part"><b>a</b></span>
                        <span class="vertical-part"><b>b</b></span>
                        <span class="vertical-part"><b>l</b></span>
                        <span class="vertical-part"><b>e</b></span>
                    </div>
                    <div class="item-description">
                     <span class="vertical-part"><b>We offer competitive rates without compromising on quality. Our transparent pricing ensures that you get the best value for your money. No hidden charges, just straightforward and affordable rates for top-notch taxi services. Choose us for an economical ride without any hassle or surprises.</b></span>

                    </div>
                </div>
            </div>
            <div class="controls">
                <ul>
                    <li class="control" data-index="0"></li>
                    <li class="control" data-index="1"></li>
                    <li class="control" data-index="2"></li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        const items = document.querySelectorAll('.item'),
            controls = document.querySelectorAll('.control'),
            headerItems = document.querySelectorAll('.item-header'),
            descriptionItems = document.querySelectorAll('.item-description'),
            activeDelay = .76,
            interval = 5000;

        let current = 0;

        const slider = {
            init: () => {
                controls.forEach(control => control.addEventListener('click', (e) => { slider.clickedControl(e) }));
                controls[current].classList.add('active');
                items[current].classList.add('active');
            },
            nextSlide: () => { 
                slider.reset();
                if (current === items.length - 1) current = -1;
                current++;
                controls[current].classList.add('active');
                items[current].classList.add('active');
                slider.transitionDelay(headerItems);
                slider.transitionDelay(descriptionItems);
            },
            clickedControl: (e) => {
                slider.reset();
                clearInterval(intervalF);
                const control = e.target,
                    dataIndex = Number(control.dataset.index);
                control.classList.add('active');
                items.forEach((item, index) => { 
                    if (index === dataIndex) { 
                        item.classList.add('active');
                    }
                })
                current = dataIndex; 
                slider.transitionDelay(headerItems);
                slider.transitionDelay(descriptionItems);
                intervalF = setInterval(slider.nextSlide, interval);
            },
            reset: () => {
                items.forEach(item => item.classList.remove('active'));
                controls.forEach(control => control.classList.remove('active'));
            },
            transitionDelay: (items) => {
                let seconds;
                items.forEach(item => {
                    const children = item.childNodes; 
                    let count = 1,
                        delay;

                    item.classList.value === 'item-header' ? seconds = .015 : seconds = .007;

                    children.forEach(child => {
                        if (child.classList) {
                            item.parentNode.classList.contains('active') ? delay = (count / 3) + seconds : delay = count / 20;
                            child.firstElementChild.style.transitionDelay = `${delay}s`;
                            count++;
                        }
                    })
                })
            },
        }

        let intervalF = setInterval(slider.nextSlide, interval);
        slider.init();
    </script>
</body>
</html>

{% endblock %}
